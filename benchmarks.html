<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Api Benchmark :: report</title>
    <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/excanvas.min.js"></script><![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/jquery.jqplot.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.canvasTextRenderer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.highlighter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.cursor.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.6.1/lodash.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/jquery.jqplot.min.css" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/styles/dark.min.css" type="text/css" />

    <style type="text/css">
      .jqplot-target {
        color: #F1F1F1;
      }
      table.jqplot-table-legend, table.jqplot-cursor-legend {
        background-color: rgba(101, 0, 253, 0.89)
      }

      body {
        background: #3D3D3D;
        color: #F1F1F1;
      }

      a {
        color: #6699FF;
      }

      #report-details, #charts {
        width: 100%;
        float: left;
        font-family: "Trebuchet MS",Arial,Helvetica,sans-serif;
      }

      #report-details {
        margin-bottom: 20px;
        text-align: center;
      }

      .buttons {
        width: 100%;
        border-bottom: 1px solid rgb(75, 72, 72);
        padding-bottom: 10px;
        margin-bottom: 10px;
        text-align: right;
      }

      .button {
        margin-right: 10px;
        padding: 6px;
        text-decoration: none;
      }

      .button.selected {
        background-color: rgb(56, 56, 56);
      }

      .chart {
        width: 60%;
        height: 450px;
        float: left;
      }

      .distchart {
        width: 96%;
        height: 450px;
        float: left;
      }

      .panel {
        height: 450px;
        overflow-y: auto;
      }

      .route {
        width: 90%;
        margin: 3%;
        padding: 2%;
        float: left;
        background-color: #000000;
        border-radius: 15px;
      }
      .stats-details {
        font-family: "Trebuchet MS",Arial,Helvetica,sans-serif;
        font-size: 15px;
        float: left;
        width: 36%;
        padding: 2%;
      }

      .green {
        color: green;
      }

      .red {
        color: red;
      }

      .hide {
        display:none;
      }

      pre code {
        overflow-x: auto;
      }

    </style>
  </head>
  <body>
    <script><!--
    var data={"benchmark":{"nodeJS":{"getListOfSessions":{"name":"nodeJS/getListOfSessions","href":"http://localhost:3000/api/sessions","stats":{"sample":[0.098104489,0.09236493,0.092205819,0.107265825,0.107426714,0.10759827,0.107761382,0.107904048,0.108443159,0.107856937,0.115639607,0.125957834,0.126424945,0.139532951,0.139890729,0.140001395,0.140179173,0.140349396,0.139271618,0.139453395,0.149095622,0.155969402,0.156301847,0.1739423,0.174340967,0.174583188,0.174984078,0.175315189,0.175631189,0.176522301,0.182105414,0.188860529,0.189237417,0.20290009,0.203324091,0.203561868,0.203871202,0.204162312,0.204564091,0.204896535,0.207407648,0.213615206,0.213860984,0.235690771,0.236103216,0.236709438,0.236163661,0.236802327,0.23702855,0.237373439,0.243529886,0.249737888,0.26631523,0.249946333,0.265558784,0.266369007,0.266732563,0.267414785,0.266869896,0.26753523,0.271432565,0.278371235,0.278787235,0.310177916,0.310503694,0.310733471,0.310965916,0.311201916,0.311482361,0.311723249,0.318475253,0.328205923,0.328618813,0.341169485,0.341538374,0.34178193,0.342029929,0.342286375,0.342537485,0.342776597,0.351603268,0.358285048,0.358546826,0.367645497,0.367945942,0.368225941,0.368572609,0.373917055,0.368725942,0.368987275,0.369233497,0.379309057,0.379628613,0.391629063,0.393778397,0.391861952,0.392115285,0.392366397,0.392601952,0.392809952,0.325929923,0.328282813,0.328061923,0.330374369,0.330359702,0.330371258,0.330361035,0.330366814,0.330321925,0.33030948,0.325367256,0.319126809,0.319009031,0.321102365,0.321142365,0.321206365,0.321162809,0.321136587,0.321112587,0.321091699,0.313965029,0.315562807,0.315612584,0.31898903,0.318987698,0.319132586,0.318964142,0.318872142,0.319119253,0.318447252,0.31674814,0.315147251,0.31507614,0.315766808,0.315671696,0.31567214,0.315605474,0.315517918,0.315800141,0.314849029,0.315679696,0.316880586,0.316954364,0.309552137,0.309465471,0.309409471,0.309407249,0.311195693,0.311328582,0.311230805,0.307991248,0.306238359,0.306221025,0.301752134,0.302037912,0.301260134,0.301452578,0.301389912,0.301719246,0.301941023,0.308921027,0.307408137,0.306242358,0.286799683,0.286781016,0.286763238,0.287729905,0.286380572,0.286307683,0.286273461,0.284920127,0.280433903,0.280312569,0.277573901,0.277463679,0.277507679,0.277536568,0.277613456,0.27759079,0.277676123,0.272650788,0.269613453,0.269526342,0.27306901,0.273333899,0.273307232,0.273207232,0.273181011,0.273127678,0.273118343,0.275452123,0.274710344,0.274808566,0.273666343,0.273626344,0.273634789,0.274919234,0.275152567,0.275240123,0.275271233,0.284508571,0.285527683,0.284531237,0.277278346,0.277216568,0.277243679,0.27721479,0.277181901,0.277185456,0.277141012,0.278562791,0.279436124,0.279489902,0.279663235,0.279503679,0.278288123,0.279065013,0.279994791,0.280068568,0.278260124,0.282505015,0.28012768,0.279919236,0.279622791,0.27957168,0.279333458,0.279276568,0.27922679,0.278805457,0.278577901,0.279665013,0.281220125,0.281175236,0.282499681,0.28248457,0.28292857,0.282887237,0.28175657,0.282494348,0.282355236,0.284173459,0.282181459,0.282111237,0.281096569,0.281434791,0.281590792,0.281681014,0.28149168,0.281553458,0.281731681,0.299435689,0.303923246,0.303996135,0.300759245,0.300727245,0.300740578,0.300724134,0.300709023,0.300265022,0.2999588,0.292885019,0.292358352,0.292578353,0.292654797,0.292911686,0.292943241,0.292962797,0.292958797,0.292930797,0.29292413,0.29379302,0.29382902,0.293949464,0.304294357,0.304379246,0.30439569,0.30525258,0.305185913,0.305147691,0.305138358,0.304509469,0.303830802,0.302954357,0.302620135,0.304064579,0.304749468,0.30596058,0.303615246,0.305809024,0.305973025,0.305130803,0.305657469,0.305571691,0.309001026,0.309005027,0.308936137,0.307555692,0.307258803,0.307128137,0.307029025,0.301807246,0.303426802,0.303269024,0.304293024,0.304287247,0.304174358,0.304702802,0.303799246,0.303760135,0.304030357,0.303408579,0.304701024,0.304737024,0.301813467,0.301782356,0.302015245,0.301985912,0.30193169,0.301321467,0.301156579,0.303980579,0.306176137,0.307174803,0.299100133,0.299014799,0.298973911,0.298922356,0.298883689,0.298836577,0.298860577,0.301700134,0.301765023,0.301720579,0.295273909,0.29545702,0.294735242,0.294905909,0.29482502,0.29476502,0.294721909,0.294287686,0.294090353,0.29400013,0.293053019,0.292686797,0.29245213,0.292253464,0.290562795,0.290294351,0.290021463,0.272942343,0.269865009,0.269740119,0.284025904,0.284174348,0.284143682,0.284109904,0.284091238,0.284092126,0.284164126,0.28079168,0.278114346,0.277748568,0.27621479,0.275929012,0.275859234,0.276401456,0.275469011,0.276083678,0.275147678,0.279528124,0.279363236,0.279245458,0.268741897,0.268725008,0.268653008,0.267773452,0.26778323,0.267817452,0.268574342,0.269433454,0.268885453,0.268884564,0.267055674,0.265344118,0.265000562,0.264953451,0.263680117,0.263417451,0.263191228,0.261306339,0.269066342,0.269054342,0.267567674,0.26797523,0.26729523,0.267693007,0.267717897,0.267756119,0.267792119,0.266717008,0.263936118,0.263703673,0.267482341,0.267552119,0.26762323,0.267516118,0.267401452,0.267399675,0.267316119,0.267225896,0.263846339,0.263525006,0.259897449,0.259646782,0.259202337,0.259001448,0.258742782,0.258553448,0.25838767,0.252537446,0.248131666,0.246934777,0.244777442,0.244497442,0.24433922,0.244205886,0.244041442,0.244068553,0.243620553,0.238269884,0.236540105,0.236309439,0.238103217,0.237866772,0.237678328,0.237503216,0.237340994,0.236268105,0.236154771,0.235094327,0.240306329,0.240082329,0.236978328,0.23672055,0.236585883,0.236418771,0.236430771,0.236262771,0.235748993,0.235150771,0.233510326,0.23328766,0.219528986,0.219092097,0.219048098,0.218846764,0.218667208,0.218459653,0.217665875,0.220328543,0.221802765,0.221492987,0.221722765,0.221553876,0.221375209,0.22123521,0.22107832,0.220911209,0.220689876,0.215050762,0.213584095,0.213323206,0.212464539,0.212137427,0.211889872,0.211612983,0.211315205,0.211107649,0.210093871,0.214492539,0.215099651,0.214824985,0.215456985,0.215143651,0.214883651,0.214674762,0.214471207,0.213374761,0.213262762,0.212480984,0.201953423,0.201700978,0.198683644,0.198380088,0.198145866,0.197948533,0.197745421,0.197836977,0.197345866],"mean":0.2718228950260002,"singleMean":0.0027182289502600022,"variance":0.0027123935207949887,"deviation":0.05208064439688692,"sem":0.002329117223668654,"moe":0.004565069758390561,"rme":1.67942798120589,"p75":0.30402180149999997,"p95":0.3417697522,"p99":0.39211275167,"p999":0.393778397},"errors":{},"options":{"method":"get","concurrencyLevel":100,"start":"2018-12-10T11:05:04.047Z","end":"2018-12-10T11:05:05.516Z"},"request":{},"response":{"header":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"2","etag":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\"","set-cookie":["connect.sid=s%3Aleb-6ZslJIt8oaVM-ofdqeYTx7X0ECRD.CPUpneoeAfE%2BHBA8hN4lkPMKt8DRtG2JJhiZGuMhedw; Path=/; HttpOnly"],"date":"Mon, 10 Dec 2018 11:05:04 GMT","connection":"close"},"statusCode":200,"body":"[]","type":"application/json"},"hz":367.88659759669935}}},"info":{"date":"2018-12-10T11:05:05.526Z","apiName":"nodeJS"}};
    // --></script>
    <div id="report">
      <div id="report-details"><h1>Api Benchmark report</h1></div>
      <div id="charts"></div>
    </div>
    <div style="text-align: center">
    Generated by <a href="https://github.com/matteofigus/api-benchmark" target="_blank">api-benchmark</a><br /><br />
    <iframe src="http://ghbtns.com/github-btn.html?user=matteofigus&repo=api-benchmark&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
    </div>
    <script>

      var selectors = {
        charts: '#charts',
        reportDetails: '#report-details',
        panel: '.panel',
        panels: {
          stats: '.stats',
          distribution: '.distribution',
          response: '.response',
          request: '.request'
        },
        button: '.button',
        buttons: {
          stats: '.button-stats',
          distribution: '.button-distribution',
          response: '.button-response',
          request: '.button-request'
        }
      };

      var formatNumber = function(number) {
        number = String(number).split('.');
        return number[0].replace(/(?=(?:\d{3})+$)(?!\b)/g, ',') +
          (number[1] ? '.' + number[1] : '');
      };

      var formatDate = function(date){
        return date.replace(/T/g, ' ').replace(/Z/g, ' ');
      };

      var fixNumber = function(number, digits){
        return formatNumber(number.toFixed(digits));
      };

      var decodeHtml = function(text){
        return $('<div/>').text(text).html();
      };

      var templates = {
        reportDetails: function(info){
          var formattedDate = formatDate(info.date);
          return 'Benchmarked ' + info.apiName + ' on ' + formattedDate;
        },
        route: function(routeData, i){
          var errorsCount = 0,
              errorsDesc = '(',
              duration = (new Date(routeData.options.end) - new Date(routeData.options.start))/1e3;

          for(var errorType in routeData.errors){
            errorsCount += routeData.errors[errorType].length;
            errorsDesc += routeData.errors[errorType].length + ' ' + errorType + ',';
          }

          if(errorsCount == 0)
            errorsDesc = '';
          else
            errorsDesc = errorsDesc.substr(0, errorsDesc.length - 1) + ')';

          var template = '<div class="route"><div class="buttons">' +
            '<a href="#stats" class="button button-stats selected">Stats</a>' +
            '<a href="#distribution" class="button button-distribution">Distribution</a>' +
            '<a href="#request" class="button button-request">Request details</a>' +
            '<a href="#response" class="button button-response">Response details</a>' +
            '</div><div class="stats panel"><div class="chart" id="chart' + i + '"></div>' +
            '<div class="stats-details"><ul><li>' + routeData.stats.sample.length + ' run' +
            (routeData.stats.sample.length > 1 ? 's' : '') + ' sampled with concurrency: ' +
            routeData.options.concurrencyLevel + '</li>';

          if(routeData.options.expectedStatusCode)
            template += '<li>Expected status code: ' + routeData.options.expectedStatusCode + '</li>';

          if(routeData.options.maxMean)
            template += '<li>Expected max mean: ' + routeData.options.maxMean + '</li>';

          if(routeData.options.maxSingleMean)
            template += '<li>(*) Expected max mean across all concurrent requests: ' + routeData.options.maxSingleMean + '</li>';

          template += '</ul><ul><li>Started: ' + formatDate(routeData.options.start) + '</li>' +
            '<li>Ended: ' + formatDate(routeData.options.end) + ' (' + duration + ' seconds)</li>' +
            '<li>' + fixNumber(routeData.hz, 2) + ' ops/sec \xb1 ' + fixNumber(routeData.stats.rme, 2) + '%</li>' +

            '<li class="' + (!errorsCount ? 'green' : 'red') + '">' + errorsCount + ' error' +
            (errorsCount == 1 ? '' : 's') + ' ' + errorsDesc + '</li>' +

            '<li>Sample arithmetic mean: ' + fixNumber(routeData.stats.mean, 6) + '</li>';

          if(routeData.options.concurrencyLevel > 1)
            template += '<li>Mean across all the concurrent requests: ' + fixNumber(routeData.stats.singleMean, 6) + '</li>';

          template += '<li>Sample standard deviation: ' + fixNumber(routeData.stats.deviation, 6) + '</li>' +
            '<li>Margin of error: ' + fixNumber(routeData.stats.moe, 6) + '</li>' +
            '<li>The standard error of the mean: ' + fixNumber(routeData.stats.sem, 6) + '</li>' +
            '<li>The sample variance: ' + fixNumber(routeData.stats.variance, 6) + '</li>' +
            '</ul><ul><li>75% Percentile: ' + fixNumber(routeData.stats.p75, 6) + '</li>' +
            '<li>95% Percentile: ' + fixNumber(routeData.stats.p95, 6) + '</li>' +
            '<li>99% Percentile: ' + fixNumber(routeData.stats.p99, 6) + '</li>' +
            '<li>99.9% Percentile: ' + fixNumber(routeData.stats.p999, 6) + '</li>' +
            '</ul></div></div><div class="distribution panel"><div class="distchart" id="distchart' + i + '">' +
            '</div></div><div class="request panel hide">Request: ' + routeData.options.method.toUpperCase() +
            ' <a href="' + routeData.href + '" target="_blank">' +
            routeData.href + '</a><br />Concurrency level: ' + routeData.options.concurrencyLevel + '<br />';

          if(routeData.options.delay)
            template += 'Delay between bench cycles: ' + routeData.options.delay + '<br />';

          var requestHeaders = 'none',
              requestData = 'none',
              requestQuery = 'none';

          if(!!routeData.request.headers)
            requestHeaders = '<br /><pre><code>' + JSON.stringify(routeData.request.headers, undefined, 2) + '</pre></code>';

          if(!!routeData.request.data)
            requestData = '<br /><pre><code>' + JSON.stringify(routeData.request.data, undefined, 2) + '</pre></code>';

          if(!!routeData.request.query)
            requestQuery = '<br /><pre><code>' + JSON.stringify(routeData.request.query, undefined, 2) + '</pre></code>';

          template += '<br />Headers sent: ' + requestHeaders + '<br />Data sent: ' + requestData + '<br />Query sent: ' + requestQuery + '<br /></div><div class="response panel hide">Data here refers to the first sampled response.<br /><br />';

          var responseHeader = JSON.stringify(routeData.response.header, undefined, 2),
              responseBody = '';

          try {
            responseBody = JSON.stringify(JSON.parse(decodeHtml(routeData.response.body)), undefined, 2);
          } catch(e){
            responseBody = decodeHtml(routeData.response.body);
          }

          template += 'Response status: ' + routeData.response.statusCode + '<br />Response headers:<br />' +
            '<pre><code>' + responseHeader + '</code></pre>' +
            '<br />Response body:<br /><pre><code>' + responseBody + '</code></pre><br /></div></div>';

          return template;
        }
      };

      var bindButtons = function(){
        var bindButton = function(panelName){
          $(selectors.buttons[panelName]).click(function(){
            var $sender = $(this),
                $panelsContainer = $sender.parent().parent();

            $panelsContainer.find(selectors.button).removeClass('selected');
            $sender.addClass('selected');

            $panelsContainer.find(selectors.panel).addClass('hide');
            $panelsContainer.find(selectors.panels[panelName]).removeClass('hide');

            return false;
          });
        };

        bindButton('stats');
        bindButton('distribution');
        bindButton('response');
        bindButton('request');
      };

      $(function(){
        $(selectors.reportDetails).append(templates.reportDetails(data.info));

        var counter = 0;
        for(serviceName in data.benchmark){
          for(routeName in data.benchmark[serviceName]){
            $(selectors.charts).append(templates.route(data.benchmark[serviceName][routeName], counter));

            var samples = data.benchmark[serviceName][routeName]['stats']['sample'],
                meanArray = [],
                mean = data.benchmark[serviceName][routeName]['stats']['mean'],
                singleMeanArray = [],
                singleMean = data.benchmark[serviceName][routeName]['stats']['singleMean'],
                maxMeanArray = [],
                maxMean = data.benchmark[serviceName][routeName].options.maxMean !== undefined,
                maxSingleMeanArray = [],
                maxSingleMean = data.benchmark[serviceName][routeName].options.maxSingleMean !== undefined,
                errorsArray = [],
                areThereSomeErrors = false;

            for(var i = 0; i < samples.length; i++){
              meanArray.push(mean);
              singleMeanArray.push(singleMean);

              errorsArray.push(null);

              if(maxMean)
                maxMeanArray.push(data.benchmark[serviceName][routeName].options.maxMean);

              if(maxSingleMean)
                maxSingleMeanArray.push(data.benchmark[serviceName][routeName].options.maxSingleMean);
            }

            for(var errorType in data.benchmark[serviceName][routeName].errors){
              var errorsOfType = data.benchmark[serviceName][routeName]['errors'][errorType];
              for(var i = 0; i < errorsOfType.length; i++){
                if(errorsOfType[i].pos !== undefined){
                  errorsArray[errorsOfType[i].pos] = data.benchmark[serviceName][routeName]['stats']['sample'][errorsOfType[i].pos];
                  areThereSomeErrors = true;
                }
              }
            }

            var getSeriesOptions = function(label, color){
              return {
                showMarker: false,
                pointLabels: { show: true },
                label: label,
                color: color
              };
            };

            var lines = [samples],
                series = [getSeriesOptions('Samples', '#6699FF')];

            if(maxMean){
              lines.push(maxMeanArray);
              series.push(getSeriesOptions('Max Mean', '#F90'));
            }

            lines.push(meanArray);
            series.push(getSeriesOptions('Mean', '#66FF00'));

            if(maxSingleMean){
              lines.push(maxSingleMeanArray);
              series.push(getSeriesOptions('Max Single Mean (*)', '#EBFF00'));

              lines.push(singleMeanArray);
              series.push(getSeriesOptions('Single mean', '#FC6333'));
            }

            if(areThereSomeErrors > 0){
              lines.push(errorsArray);
              series.push({
                showLine:false,
                markerOptions: { size: 7, style:'x' },
                label: 'Errors',
                color: '#FF0000'
              });
            }

            var options = {
              title: {
                text: data.benchmark[serviceName][routeName]['name'],
                color: '#F1F1F1'
              },
              animate: true,
              grid: {
                background: '#000000', textColor: '#F1F1F1'
              },
              seriesDefaults:{
                rendererOptions: {
                  showDataLabels: true
                }
              },
              highlighter: {
                show: true,
                sizeAdjust: 7.5
              },
              cursor:{
                show: true,
                zoom:true,
              },
              legend: {
                show:true,
                location: 'se',
                background: 'rgba(101, 0, 253, 0.89)'
              },
              axesDefaults: {
                labelRenderer: $.jqplot.CanvasAxisLabelRenderer
              },
              axes: {
                xaxis: {
                  label: 'Samples',
                  pad: 0
                },
                yaxis: {
                  label: 'Response time (seconds)',
                  tickOptions: {
                    formatString:'%.6f'
                  }
                }
              },
              series: series
            };

            $.jqplot('chart' + counter, lines, options);
            counter++;
          }
        }
        hljs.initHighlightingOnLoad();
        bindButtons();
      });

      $(function(){
        var counter = 0;
        for(serviceName in data.benchmark){
          for(routeName in data.benchmark[serviceName]){
            var samples = data.benchmark[serviceName][routeName]['stats']['sample'];
            var sortedSamples = _.orderBy(samples);
            var totalDelta = sortedSamples[sortedSamples.length - 1] - sortedSamples[0];

            var bucketCount = ~~Math.min(totalDelta*1000, sortedSamples.length);
            var delta = totalDelta/bucketCount;

            var buckets = [[sortedSamples[0] + delta/2.0, 0]];

            for (var i = 0; i < samples.length; i++) {
              var s = sortedSamples[i];
              while(s > (sortedSamples[0] + buckets.length * delta)) {
                buckets.push([(sortedSamples[0] + buckets.length * delta + delta/2.0), 0]);
              }
              buckets[buckets.length - 1][1]++;
            }

            buckets = _.map(buckets, function(b){
              return [b[0], 100*b[1]/samples.length];
            });


            var lines = [buckets],
                series = [{
                  showMarker: false,
                  pointLabels: { show: true },
                  label: 'Samples',
                  color: '#6699FF',
                  rendererOptions: {
                    smooth: true
                  }
                }];

            var options = {
              title: {
                text: data.benchmark[serviceName][routeName]['name'],
                color: '#F1F1F1'
              },
              animate: true,
              grid: {
                background: '#000000', textColor: '#F1F1F1'
              },
              seriesDefaults:{
                rendererOptions: {
                  showDataLabels: true
                }
              },
              highlighter: {
                show: true,
                sizeAdjust: 7.5
              },
              legend: {
                show:true,
                location: 'se',
                background: 'rgba(101, 0, 253, 0.89)'
              },
              cursor:{
                show: true,
                zoom:true,
              },
              axesDefaults: {
                labelRenderer: $.jqplot.CanvasAxisLabelRenderer
              },
              axes: {
                xaxis: {
                  label: 'Response time (seconds)',
                  tickOptions: {
                    formatString:'%.3f'
                  }
                },
                yaxis: {
                  label: 'Percent of responses',
                  tickOptions: {
                    formatString: '%.1f%'
                  }
                }
              },
              series: series
            };

            $.jqplot('distchart' + counter, lines, options);
            counter++;
          }
        }
        $(".distribution.panel").addClass('hide');
      });
    </script>
  </body>
</html>
